# Meeting AI 配置文件示例
# 复制此文件为 .env 并根据需要修改

# ========================================
# 基础配置
# ========================================

# 调试模式
MEETING_AI_DEBUG=false

# 日志级别: DEBUG, INFO, WARNING, ERROR
MEETING_AI_LOG_LEVEL=INFO

# ========================================
# 路径配置
# ========================================

# 数据目录（存放临时文件）
# MEETING_AI_DATA_DIR=./data

# 模型目录（存放下载的模型）
# MEETING_AI_MODELS_DIR=./models

# 输出目录（存放处理结果）
# MEETING_AI_OUTPUT_DIR=./outputs

# ========================================
# ASR 语音识别配置
# ========================================

# Whisper 模型: tiny, base, small, medium, large-v2, large-v3
MEETING_AI_ASR__MODEL_NAME=medium

# 计算设备: cpu, cuda, auto
MEETING_AI_ASR__DEVICE=cuda

# 计算精度: int8, float16, float32
# 注意: RTX 5090 (Blackwell) 使用 float16，int8 有 cuBLAS 兼容问题
MEETING_AI_ASR__COMPUTE_TYPE=float16

# 语言（留空自动检测）: zh, en, ja, etc.
# MEETING_AI_ASR__LANGUAGE=

# ========================================
# 说话人分离配置
# ========================================

# 说话人数量限制（可选）
# MEETING_AI_DIAR__MIN_SPEAKERS=
# MEETING_AI_DIAR__MAX_SPEAKERS=

# Embedding 相似度阈值（用于合并相似说话人）
MEETING_AI_DIAR__EMBEDDING_THRESHOLD=0.75

# ========================================
# LLM 本地大模型配置
# ========================================

# 是否启用 LLM 命名
MEETING_AI_LLM__ENABLED=true

# GGUF 模型路径（软件内置，如需更换可手动下载放入 models/llm/）
MEETING_AI_LLM__MODEL_PATH=./models/llm/qwen2.5-7b-instruct-q4_k_m.gguf

# 上下文长度
MEETING_AI_LLM__N_CTX=6144

# 温度（越低越确定性）
MEETING_AI_LLM__TEMPERATURE=0.1

# 命名置信度阈值（低于此值使用性别兜底）
MEETING_AI_LLM__CONFIDENCE_THRESHOLD=0.7

# ========================================
# 实时流式录音配置
# ========================================

# 采样率（Hz）
# MEETING_AI_STREAMING__SAMPLE_RATE=16000

# VAD 严格度 (0-3, 越高越严格过滤非语音)
# MEETING_AI_STREAMING__VAD_AGGRESSIVENESS=2

# 语音前后填充（毫秒）
# MEETING_AI_STREAMING__SPEECH_PAD_MS=300

# 最短语音段（毫秒，更短的会被丢弃）
# MEETING_AI_STREAMING__MIN_SPEECH_DURATION_MS=250

# 最长语音段（秒，超过会强制分割）
# MEETING_AI_STREAMING__MAX_SPEECH_DURATION_S=30.0

# 说话人变化检测阈值（embedding 余弦相似度）
# MEETING_AI_STREAMING__SPEAKER_CHANGE_THRESHOLD=0.5

# 最大录音时长（秒）
# MEETING_AI_STREAMING__MAX_RECORDING_SECONDS=3600
